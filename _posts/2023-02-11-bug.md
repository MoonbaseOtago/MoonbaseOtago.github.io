---
layout: post
title: VRoom! blog - quick note on a bug
---

### TLDR

After the past new work we went to spend some time just going over the core pipes
at the micro level looking to make sure we hadn't broken anything - and found something
that's been broken since we rewrote the load/store unit.

Essentially the commit units are usually able to predict when an instruction will
be completed one clock ahead of when its resulting data will be available to be bypassed so we can
schedule units dependant on that data for the next clock. Usually this is easy because
most instructions are of fixed length - but loads take a variable amount of time
and even though we know a clock before writing the loaded data back into the register file
we weren't signalling - this is now fixed, it will be a difficult timing path.

Results - new Dhrystone numbers ~7.16 DMips/MHz - increased by ~6%

Off to work on some better pipeline visualization tooling.


Next time: More misc extensions,
